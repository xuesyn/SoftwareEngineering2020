<view class="chat-room"><uni-popup class="vue-ref" vue-id="25f01809-1" type="dialog" data-ref="popupAsk" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('25f01809-2')+','+('25f01809-1')}}" mode="base" title="提示" content="房主正在询问你是否准备完成" data-event-opts="{{[['^confirm',[['checked']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup><uni-popup class="vue-ref" vue-id="25f01809-3" type="dialog" data-ref="popupCount" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('25f01809-4')+','+('25f01809-3')}}" mode="input" placeholder="输入游戏轮数" title="输入" data-event-opts="{{[['^confirm',[['gameTurns']]]]}}" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup><uni-popup class="vue-ref" vue-id="25f01809-5" type="bottom" data-ref="popupBottom" data-event-opts="{{[['^change',[['switchPop']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{$slots.default}}"><slot></slot></block><block wx:else><view class="qiun-columns"><view class="qiun-charts"><canvas class="charts" canvas-id="canvasLineA" id="canvasLineA" disable-scroll="true" data-event-opts="{{[['touchstart',[['touchLineA',['$event']]]],['touchmove',[['moveLineA',['$event']]]],['touchend',[['touchEndLineA',['$event']]]]]}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"></canvas></view></view></block></uni-popup><view class="online-avatar-container"><block wx:for="{{room.onlineUsers.users}}" wx:for-item="user" wx:for-index="key" wx:key="key"><view class="online-avatar-item" style="{{'transform:'+('translateX('+(room.onlineUsers.users.length-key-1)*20+'rpx'+')')+';'}}"><image src="{{user.avatar}}"></image></view></block><view class="online-count">{{room.onlineUsers.count}}</view></view><view class="chat-room-container"><scroll-view class="chat-room-box" scroll-y="true" scroll-into-view="{{contentPosition}}" show-scrollbar="true"><block wx:for="{{room.messages}}" wx:for-item="message" wx:for-index="key" wx:key="key"><view class="message-box" id="{{'message-box'+key}}"><view class="message-item"><text class="user-name">{{(message&&message.senderNickname)+":"}}</text><text class="{{[message.senderUserId==room.currentUser.id?'user-message self':'user-message']}}">{{''+(message&&message.content)+''}}</text></view></view></block></scroll-view><view class="chat-room-input"><view style="position:relative;"><input class="uni-input" placeholder="输入你的答案.." data-event-opts="{{[['input',[['onInputMessage',['$event']]]]]}}" value="{{newMessageContent}}" bindinput="__e"/><view data-event-opts="{{[['tap',[['sendMessage',['$0','$1'],['room.MessageType.CHAT','newMessageContent']]]]]}}" hidden="{{!(!isPopuping)}}" class="uni-btn" bindtap="__e">↑</view></view><image class="heart" src="../../../static/images/check.svg" data-event-opts="{{[['tap',[['callQuest',['$0',''],['room.MessageType.PROP']]]]]}}" bindtap="__e"></image><image class="heart" src="../../../static/images/log.svg" data-event-opts="{{[['tap',[['openPopup',['$event']]]]]}}" bindtap="__e"></image></view></view></view>